<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>WebPurifier</title>

  <!--
    팝업의 스타일시트를 외부 파일(popup.css)로 분리해서 불러옵니다.
    - 인라인 스타일을 유지해도 되지만, 복붙이나 유지보수를 쉽게 하기 위해 외부 CSS 사용.
  -->
  <link rel="stylesheet" href="./popup.css" />
</head>
<body>
  <!--
    메인 뷰: 확장 프로그램의 기본 화면.
    - 토글(온/오프), 필터 강도, 민감 주제 선택, 하단 조작 버튼(대시보드, 상세 설정) 포함
  -->
  <div id="main-view">
    <!--
      헤더: 확장 이름과 메인 토글
      - h1: 확장 프로그램 이름 표시
      - label.switch: 스위치 UI(체크박스 기반)
    -->
    <div class="header">
      <h1>WebPurifier</h1>
      <label class="switch">
        <!--
          메인 토글: 필터 전체 동작을 켜고 끄는 체크박스
          - id="main-toggle"로 popup.js에서 제어/연결
        -->
        <input type="checkbox" id="main-toggle" />
        <span class="slider round"></span>
      </label>
    </div>

    <!--
      컨테이너: 설정 섹션들을 감싸는 영역
    -->
    <div id="container">
      <!--
        섹션: 필터링 강도 설정
        - range input으로 1~3 단계 조정
        - .slider-container 안의 텍스트는 각 단계의 레이블(약함, 보통, 강함)
        - id="strength-slider"로 popup.js에서 현재값을 읽어 저장
      -->
      <section>
        <h2>필터링 강도</h2>
        <input type="range" id="strength-slider" min="1" max="3" step="1" value="2" />
        <div class="slider-container"><span>약함</span><span>보통</span><span>강함</span></div>
      </section>

      <!--
        섹션: 민감주제 선택
        - 상단에 사용자가 직접 주제를 추가할 수 있는 입력창과 추가 버튼
        - 하단 .topics 영역에는 기본 제공 토픽 버튼들이 나열되어 있음
        - 각 버튼은 클릭으로 선택/해제하도록 popup.js에서 처리할 것
        - id/클래스는 팝업 스크립트에서 DOM 선택에 사용
      -->
      <section>
        <h2>민감주제 선택</h2>
        <div class="topic-input-group">
          <!--
            사용자가 직접 주제 이름을 입력해서 커스텀 토픽을 추가할 수 있음
            - id="custom-topic-input"과 id="add-topic-button"은 스크립트 연결 지점
          -->
          <input type="text" id="custom-topic-input" placeholder="직접 주제 추가" />
          <button id="add-topic-button">추가</button>
        </div>
        <div class="topics">
          <!-- 기본 토픽들: 필요에 따라 popup.js에서 이 버튼들을 동적으로 관리 가능 -->
          <button>비속어</button>
          <button>외모</button>
          <button>학벌</button>
          <button>신체</button>
          <button>정치</button>
        </div>
      </section>

      <!--
        푸터: 빠른 액션 버튼들
        - dashboard-button: 대시보드 보기(통계나 로그 등)
        - go-to-settings-button: 상세 설정 화면으로 이동
        - 버튼의 innerText(아이콘 포함)는 현재 UI 표시용이며 필요 시 텍스트만 사용하도록 변경 가능
      -->
      <div class="footer">
        <button id="dashboard-button">📊 대시보드 보기</button>
        <button id="go-to-settings-button">⚙️ 상세 설정</button>
      </div>
    </div>
  </div>

  <!--
    상세 설정 뷰: 메인 뷰에서 '상세 설정'으로 전환했을 때 보여지는 화면
    - 기본적으로 style="display:none;"로 숨겨져 있다가 popup.js에서 보여주기/숨기기 제어
    - 대응 방식(자동 차단, 완화 표현, 경고 후 선택적 확인) 같은 고급 옵션을 설정
  -->
  <div id="settings-view" style="display:none;">
    <div class="header">
      <!-- 뒤로가기 버튼: 상세설정에서 메인 뷰로 돌아가기 위한 컨트롤 (popup.js에서 클릭 이벤트 처리) -->
      <button class="back-button">←</button>
      <!-- 상세 설정 제목: 가운데 정렬 -->
      <h1 style="flex-grow:1; text-align:center;">상세 설정</h1>
      <!-- 오른쪽 빈 공간: 레이아웃 정렬용 플레이스홀더 -->
      <div style="width:28px;"></div>
    </div>

    <!--
      대응 방식 설정 섹션
      - 라디오 버튼으로 하나의 방식만 선택하도록 구성
      - name="response-method"은 그룹화 키, 각 input의 value는 저장될 설정 값
      - popup.js에서 선택된 값을 읽어 chrome.storage에 저장
    -->
    <section>
      <h2>대응 방식 설정</h2>
      <div><input type="radio" name="response-method" value="block" id="method-block" /><label for="method-block">자동 차단</label></div>
      <div><input type="radio" name="response-method" value="soften" id="method-soften" /><label for="method-soften">완화 표현</label></div>
      <div><input type="radio" name="response-method" value="warn" id="method-warn" /><label for="method-warn">경고 후 선택적 확인</label></div>
    </section>
  </div>

  <!--
    팝업 동작을 담당하는 스크립트 로드
    - defer 속성으로 HTML 파싱 후 스크립트가 실행되도록 함
    - popup.js에서 DOM 요소(ID, 클래스)를 찾아 이벤트 바인딩 및 chrome.storage와의 연동 처리
  -->
  <script src="./popup.js" defer></script>
</body>
</html>
